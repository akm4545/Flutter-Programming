# **동영상 플레이어(화면 회전, 시간 변환, String 패딩)**  
# **프로젝트 구상하기**  
언뜻 보기에는 화면을 두 개 써야 할 것 같지만 하나로 구현할 수 있다. 플러터에서는 모든 게 위젯으로 이루어졌기 때문에 이런 
형식의 UI 구현이 매우 간편하다. 첫 번쨰 화면 HomeScreen은 단순히 앱 이름과 로고만 보여준다. 로고를 한 번 탭해주면 
동영상을 선택하는 창이 나온다. 사용자가 동영상을 선택하면 HomeScreen이 VideoPlayer로 대체된다.  
  
동영상이 선택되면 즉시 동영상을 실행하고 Slider 위젯으로 진행 상황을 보여주는 기능을 구현한다. 추가적으로 흔히 동영상 
플레이어 앱에서 볼 수 있는 것처럼 뒤로 3초 돌리기, 앞으로 3초 돌리기, 재생/일시중지 기능도 구현한다. 이 버튼들은 항상 
화면에 보이면 동영상을 시청하는데 방해되므로 화면을 한 번 탭하면 보이고 한 번 더 탭하면 보이지 않게 프로그래밍한다.  
  
# **사전 지식**  
# **iOS 시뮬레이터 화면 회전하기**  
iOS 시뮬레이터는 화면 회전이 비교적 간단하다. 시뮬레이터의 맨 위에 있는 3가지 옵션 중 가장 오른쪽에 있는 회전하기 
버튼을 눌러주면 시뮬레이터를 오른쪽으로 90도씩 회전할 수 있다.  
  
![img.png](image/img.png)  
  
# **안드로이드 에뮬레이터 화면 회전하기**  
안드로이드 에뮬레이터 또한 회전하기 버튼을 눌러서 시계방향 또는 반시계방향 90도로 에뮬레이터를 회전할 수 있다. iOS 시뮬레이터와는 
다르게 안드로이드 에뮬레이터에서는 회전 후 화면에 나오는 앱 회전 버튼을 한 번 더 눌러줘야 에뮬레이터에서 실행 중인 앱도 
회전된다.  
  
![img.png](image/img2.png)  
  
# **시간 변환 및 String 패딩**  
Duration 클래스는 특정 날짜를 가리키는 DateTime과는 다르게 기간을 표혀할 수 있는 클래스였다. video_player 플러그인을 
사용하면서 현재 실행되고 있는 영상의 위치, 영상의 총 길이 등을 Duration 클래스로 반환받게 된다. 하지만 개발자가 선호하는 
자료 형태와 실제 사용자가 선호하는 자료 형태가 다르기 때문에 보기 좋은 String 값으로 Duration 클래스를 전환하는 게 
매우 중요하다.  
  
예를 들어 Duration 클래스를 화면에 그대로 출력하면 개발자들은 쉽게 이해할 수 있지만 일반 사람은 이해하기 힘들다.  
  
![img.png](image/img3.png)  
  
0:03:12.000000을 출력한다.  
  
0:03:12.000000값에서 '.' 뒷부분을 제외한 앞부분만 원한다. String에 split() 함수로 원하는 부분만 가져온다.  
  
![img.png](image/img4.png)  
  
split() 함수는 첫 번째 매개변수에 들어오는 값을 기준으로 String값을 나누고 각각 나뉜 값을 List에 넣어서 반환한다.  
  
여기서 '시' 단위를 생략하고 '분분:초초' 형태로 Duration을 표현한다면 약간 복잡해진다.  
  
![img.png](image/img5.png)  
  
먼저 '.'을 기준으로 String을 split()해서 밀리초 단위를 삭제해주고 다시 한변 ':'를 기준으로 split()해서 시, 분, 초 
단위로 나뉜 List값을 반환받는다. 여기서 리스트의 맨 앞의 값으로 반환되는 '시'는 버려야 하니 sublist() 함수를 이용해서 
1번 인덱스부터 2번 인덱스의 값들만 모아 다시 join() 함수를 통해 모아준다.  
  
Duration 클래스의 정의로 이동해서 toString() 함수를 보면 '초'단위 시간을 '시', '분', '초'로 변환하는 방법이 코드로 
작성되어 있다. 위에서 진행한 형태의 코드가 불편하게 느껴진다면 Duration 클래스의 toString() 함수를 참고해서 직접 
코드를 짜볼 수도 있다.  
  
![img.png](image/img6.png)  
  
Duration 클래스의 inMinutes 게터는 분 단위 시간을 가져온다. 그리고 inSeconds 게터는 초 단위 시간을 가져오니 초 단위 
시간은 분의 몫으로 넘어간 값을 제외한 나머지 값만 보여주면 된다. String 클래스에는 padLeft() 함수와 padRight() 함수가 
존재하는데 pad() 함수들은 String의 길이를 맞춰주는 역할을 한다. 첫 번째 매개변수에 String의 최소 길이를 입력하고 
두 번째 매개변수에 길이가 부족할 때 채워줄 String값을 넣어준다. padLeft()는 최소 길이에 맞춰서 두 번째 매개변수에 입력된 
값을 왼쪽에 채워주고 padRight()는 오른쪽에 채워준다.  
  
![img.png](image/img7.png)  
  
최소 3의 길이만큼 String을 채워넣어야 하니 '023'이 된다. '233'은 이미 최소 길이인 3을 충족했으니 그대로 '233'이 된다.  
  
# **사전 준비**  
iOS에서는 동영상을 불러오려면 사진첩 권한이 필요하다. 일반적으로 ImagePicker 플러그인을 사용하면 카메라와 마이크 권한까지 
필요한 경우가 많으니 세 가지 권한을 모두 등록한다.  
  
1. 실습에 사용할 프로젝트 생성  
- 프로젝트 이름: vid_player
- 네이티브 언어: 코틀린  
  
